generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int    @id(map: "PK_cace4a159ff9f2512dd42373760") @default(autoincrement())
  name     String @db.VarChar
  email    String @unique(map: "UQ_e12875dfb3b1d92d7d7c5377e22") @db.VarChar
  password String @db.VarChar
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Provider {
  id          Int       @id(map: "PK_8e405fc3c79a1a1a6b9c7b1b6d3") @default(autoincrement())
  name       String    @db.VarChar
  email      String    @unique(map: "UQ_2b9c9d8d0b0c7e5e5f7f0c8d8e7") @db.VarChar
  products  Product[]
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}

model Product {
  id String @id
  name String @db.VarChar
  description String? @db.Text
  stock Int @db.Integer
  price Float @db.Real
  category Category @relation(fields: [categoryId], references: [id])
  categoryId Int
  provider Provider @relation(fields: [providerId], references: [id])
  providerId Int
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Category {
  id Int @id(map: "PK_0e1c0a1d7d8f2f6f7b0d0b1d7e2") @default(autoincrement())
  name String @db.VarChar
  products Product[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
